<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer" />
  <meta name="CocoaVersion" content="1344.72" />
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; background-color: #ffffff}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 18.5px; font: 13.0px Arial; color: #222222; -webkit-text-stroke: #222222; background-color: #ffffff; min-height: 15.0px}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 18.5px; background-color: #ffffff}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Courier; color: #222222; -webkit-text-stroke: #222222; background-color: #ffffff; min-height: 16.0px}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 18.5px; font: 13.0px Arial; color: #222222; -webkit-text-stroke: #222222; min-height: 15.0px}
    li.li6 {margin: 0.0px 0.0px 3.3px 0.0px; line-height: 18.5px}
    font.f1 {font: 13.0px Courier; font-kerning: none; color: #222222; -webkit-text-stroke: 0px #222222}
    font.f2 {font-kerning: none}
    font.f3 {font: 13.0px Arial; font-kerning: none; color: #222222; -webkit-text-stroke: 0px #222222}
    font.f4 {font: 13.0px Courier; font-kerning: none; color: #007020; -webkit-text-stroke: 0px #007020}
    font.f5 {font: 13.0px Courier; font-kerning: none; color: #0e84b5; -webkit-text-stroke: 0px #0e84b5}
    font.f6 {font: 13.0px Courier; font-kerning: none; color: #60a0b0; -webkit-text-stroke: 0px #60a0b0}
    font.f7 {font: 13.0px Courier; font-kerning: none; color: #06287e; -webkit-text-stroke: 0px #06287e}
    font.f8 {font: 13.0px Courier; font-kerning: none; color: #666666; -webkit-text-stroke: 0px #666666}
    font.f9 {font: 13.0px Courier; font-kerning: none; color: #40a070; -webkit-text-stroke: 0px #40a070}
    font.f10 {font: 13.0px Courier; font-kerning: none; color: #4070a0; -webkit-text-stroke: 0px #4070a0}
    font.f11 {font: 13.0px Arial; font-kerning: none; color: #888888; -webkit-text-stroke: 0px #888888}
    font.f12 {font: 13.0px Arial; color: #222222; background-color: #ffffff}
    font.f13 {font: 13.0px Arial; font-kerning: none; color: #222222; background-color: #ffffff; -webkit-text-stroke: 0px #222222}
    ul.ul1 {list-style-type: disc}
  </style>
</head>
<body>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">sudo apt-get install libopencv-dev python-opencv</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">To begin with I struggled to find information to get me started, and there seemed to be a lot of confusing information scattered about the web. What I did find out which makes things a little easier to understand is that openCV has released two types of Python interface called cv and cv2. If you are googling for further information it's worth keeping this in mind. We are going to use cv2 in this tutorial.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">First of all here is my code and then we will analyse it line by line.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p1"><font face="Courier" size="4" color="#007020" class="f4"><b>import</b></font><font face="Courier" size="4" color="#222222" class="f1"> </font><font face="Courier" size="4" color="#0e84b5" class="f5"><b>os</b></font></p>
<p class="p1"><font face="Courier" size="4" color="#007020" class="f4"><b>import</b></font><font face="Courier" size="4" color="#222222" class="f1"> </font><font face="Courier" size="4" color="#0e84b5" class="f5"><b>cv2</b></font></p>
<p class="p1"><font face="Courier" size="4" color="#007020" class="f4"><b>import</b></font><font face="Courier" size="4" color="#222222" class="f1"> </font><font face="Courier" size="4" color="#0e84b5" class="f5"><b>math</b></font></p>
<p class="p4"><font class="f2"></font><br /></p>
<p class="p1"><font face="Courier" size="4" color="#60a0b0" class="f6"><i>##Resize with resize command</i></font></p>
<p class="p1"><font face="Courier" size="4" color="#007020" class="f4"><b>def</b></font><font face="Courier" size="4" color="#222222" class="f1"> </font><font face="Courier" size="4" color="#06287e" class="f7">resizeImage</font><font face="Courier" size="4" color="#222222" class="f1">(img):</font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1"><span class="Apple-converted-space">    </span>dst </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">resize(img,</font><font face="Courier" size="4" color="#007020" class="f4">None</font><font face="Courier" size="4" color="#222222" class="f1">, fx</font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#40a070" class="f9">0.25</font><font face="Courier" size="4" color="#222222" class="f1">, fy</font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#40a070" class="f9">0.25</font><font face="Courier" size="4" color="#222222" class="f1">, interpolation </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">INTER_LINEAR)</font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1"><span class="Apple-converted-space">    </span></font><font face="Courier" size="4" color="#007020" class="f4"><b>return</b></font><font face="Courier" size="4" color="#222222" class="f1"> dst</font></p>
<p class="p4"><font class="f2"></font><br /></p>
<p class="p1"><font face="Courier" size="4" color="#60a0b0" class="f6"><i>##Take image with Raspberry Pi camera</i></font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">os</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">system(</font><font face="Courier" size="4" color="#4070a0" class="f10">"raspistill -o image.jpg"</font><font face="Courier" size="4" color="#222222" class="f1">)</font></p>
<p class="p4"><font class="f2"></font><br /></p>
<p class="p1"><font face="Courier" size="4" color="#60a0b0" class="f6"><i>##Load image</i></font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">img </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">imread(</font><font face="Courier" size="4" color="#4070a0" class="f10">"/home/pi/Desktop/image.jpg"</font><font face="Courier" size="4" color="#222222" class="f1">)<span class="Apple-converted-space"> </span></font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">grey </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">imread(</font><font face="Courier" size="4" color="#4070a0" class="f10">"/home/pi/Desktop/image.jpg"</font><font face="Courier" size="4" color="#222222" class="f1">,</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">) </font><font face="Courier" size="4" color="#60a0b0" class="f6"><i>#0 for grayscale</i></font></p>
<p class="p4"><font class="f2"></font><br /></p>
<p class="p1"><font face="Courier" size="4" color="#60a0b0" class="f6"><i>##Run Threshold on image to make it black and white</i></font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">ret, thresh </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">threshold(grey,</font><font face="Courier" size="4" color="#40a070" class="f9">50</font><font face="Courier" size="4" color="#222222" class="f1">,</font><font face="Courier" size="4" color="#40a070" class="f9">255</font><font face="Courier" size="4" color="#222222" class="f1">,cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">THRESH_BINARY)</font></p>
<p class="p4"><font class="f2"></font><br /></p>
<p class="p1"><font face="Courier" size="4" color="#60a0b0" class="f6"><i>##Use houghcircles to determine centre of circle</i></font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">circles </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">HoughCircles(thresh,cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">cv</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">CV_HOUGH_GRADIENT,</font><font face="Courier" size="4" color="#40a070" class="f9">1</font><font face="Courier" size="4" color="#222222" class="f1">,</font><font face="Courier" size="4" color="#40a070" class="f9">75</font><font face="Courier" size="4" color="#222222" class="f1">,param1</font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#40a070" class="f9">50</font><font face="Courier" size="4" color="#222222" class="f1">,param2</font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#40a070" class="f9">13</font><font face="Courier" size="4" color="#222222" class="f1">,minRadius</font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">,maxRadius</font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#40a070" class="f9">175</font><font face="Courier" size="4" color="#222222" class="f1">)</font></p>
<p class="p1"><font face="Courier" size="4" color="#007020" class="f4"><b>for</b></font><font face="Courier" size="4" color="#222222" class="f1"> i </font><font face="Courier" size="4" color="#007020" class="f4"><b>in</b></font><font face="Courier" size="4" color="#222222" class="f1"> circles[</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">,:]:</font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1"><span class="Apple-converted-space">    </span></font><font face="Courier" size="4" color="#60a0b0" class="f6"><i>#draw the outer circle</i></font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1"><span class="Apple-converted-space">    </span>cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">circle(img,(i[</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">],i[</font><font face="Courier" size="4" color="#40a070" class="f9">1</font><font face="Courier" size="4" color="#222222" class="f1">]),i[</font><font face="Courier" size="4" color="#40a070" class="f9">2</font><font face="Courier" size="4" color="#222222" class="f1">],(</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">,</font><font face="Courier" size="4" color="#40a070" class="f9">255</font><font face="Courier" size="4" color="#222222" class="f1">,</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">),</font><font face="Courier" size="4" color="#40a070" class="f9">2</font><font face="Courier" size="4" color="#222222" class="f1">)</font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1"><span class="Apple-converted-space">    </span></font><font face="Courier" size="4" color="#60a0b0" class="f6"><i>#draw the centre of the circle</i></font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1"><span class="Apple-converted-space">    </span>cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">circle(img,(i[</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">],i[</font><font face="Courier" size="4" color="#40a070" class="f9">1</font><font face="Courier" size="4" color="#222222" class="f1">]),</font><font face="Courier" size="4" color="#40a070" class="f9">2</font><font face="Courier" size="4" color="#222222" class="f1">,(</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">,</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">,</font><font face="Courier" size="4" color="#40a070" class="f9">255</font><font face="Courier" size="4" color="#222222" class="f1">),</font><font face="Courier" size="4" color="#40a070" class="f9">3</font><font face="Courier" size="4" color="#222222" class="f1">)</font></p>
<p class="p4"><font class="f2"></font><br /></p>
<p class="p1"><font face="Courier" size="4" color="#60a0b0" class="f6"><i>##Determine co-ordinates for centre of circle</i></font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">x1 </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> circles[</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">][</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">][</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">]</font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">y1 </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> circles[</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">][</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">][</font><font face="Courier" size="4" color="#40a070" class="f9">1</font><font face="Courier" size="4" color="#222222" class="f1">]</font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">x2 </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> circles[</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">][</font><font face="Courier" size="4" color="#40a070" class="f9">1</font><font face="Courier" size="4" color="#222222" class="f1">][</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">]</font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">y2 </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> circles[</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">][</font><font face="Courier" size="4" color="#40a070" class="f9">1</font><font face="Courier" size="4" color="#222222" class="f1">][</font><font face="Courier" size="4" color="#40a070" class="f9">1</font><font face="Courier" size="4" color="#222222" class="f1">]</font></p>
<p class="p1"><font face="Courier" size="4" color="#60a0b0" class="f6"><i>##Angle betwen two circles</i></font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">theta </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> math</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">degrees(math</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">atan((y2</font><font face="Courier" size="4" color="#666666" class="f8">-</font><font face="Courier" size="4" color="#222222" class="f1">y1)</font><font face="Courier" size="4" color="#666666" class="f8">/</font><font face="Courier" size="4" color="#222222" class="f1">(x2</font><font face="Courier" size="4" color="#666666" class="f8">-</font><font face="Courier" size="4" color="#222222" class="f1">x1)))</font></p>
<p class="p4"><font class="f2"></font><br /></p>
<p class="p1"><font face="Courier" size="4" color="#60a0b0" class="f6"><i>##print information</i></font></p>
<p class="p1"><font face="Courier" size="4" color="#007020" class="f4"><b>print</b></font><font face="Courier" size="4" color="#222222" class="f1"> </font><font face="Courier" size="4" color="#4070a0" class="f10">"x1 = "</font><font face="Courier" size="4" color="#222222" class="f1">,x1</font></p>
<p class="p1"><font face="Courier" size="4" color="#007020" class="f4"><b>print</b></font><font face="Courier" size="4" color="#222222" class="f1"> </font><font face="Courier" size="4" color="#4070a0" class="f10">"y1 = "</font><font face="Courier" size="4" color="#222222" class="f1">,y1</font></p>
<p class="p1"><font face="Courier" size="4" color="#007020" class="f4"><b>print</b></font><font face="Courier" size="4" color="#222222" class="f1"> </font><font face="Courier" size="4" color="#4070a0" class="f10">"x2 = "</font><font face="Courier" size="4" color="#222222" class="f1">,x2</font></p>
<p class="p1"><font face="Courier" size="4" color="#007020" class="f4"><b>print</b></font><font face="Courier" size="4" color="#222222" class="f1"> </font><font face="Courier" size="4" color="#4070a0" class="f10">"y2 = "</font><font face="Courier" size="4" color="#222222" class="f1">,y2</font></p>
<p class="p1"><font face="Courier" size="4" color="#007020" class="f4"><b>print</b></font><font face="Courier" size="4" color="#222222" class="f1"> theta</font></p>
<p class="p1"><font face="Courier" size="4" color="#007020" class="f4"><b>print</b></font><font face="Courier" size="4" color="#222222" class="f1"> circles</font></p>
<p class="p4"><font class="f2"></font><br /></p>
<p class="p1"><font face="Courier" size="4" color="#60a0b0" class="f6"><i>##Resize image</i></font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">img </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> resizeImage(img)</font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">thresh </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> resizeImage(thresh)</font></p>
<p class="p1"><font face="Courier" size="4" color="#60a0b0" class="f6"><i>##Show Images<span class="Apple-converted-space"> </span></i></font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">imshow(</font><font face="Courier" size="4" color="#4070a0" class="f10">"thresh"</font><font face="Courier" size="4" color="#222222" class="f1">,thresh)</font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">imshow(</font><font face="Courier" size="4" color="#4070a0" class="f10">"img"</font><font face="Courier" size="4" color="#222222" class="f1">,img)</font></p>
<p class="p4"><font class="f2"></font><br /></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">waitKey(</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">)</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">First we import 3 modules - os, cv2 and math.</font></p>
<p class="p1"><font face="Courier" size="4" color="#007020" class="f4"><b>import</b></font><font face="Courier" size="4" color="#222222" class="f1"> </font><font face="Courier" size="4" color="#0e84b5" class="f5"><b>os</b></font></p>
<p class="p1"><font face="Courier" size="4" color="#007020" class="f4"><b>import</b></font><font face="Courier" size="4" color="#222222" class="f1"> </font><font face="Courier" size="4" color="#0e84b5" class="f5"><b>cv2</b></font></p>
<p class="p1"><font face="Courier" size="4" color="#007020" class="f4"><b>import</b></font><font face="Courier" size="4" color="#222222" class="f1"> </font><font face="Courier" size="4" color="#0e84b5" class="f5"><b>math</b></font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">Now we create a function to resize images. Although we do our analysis on the full image, we will make the images smaller before we display them on the screen.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p1"><font face="Courier" size="4" color="#60a0b0" class="f6"><i>##Resize with resize command</i></font></p>
<p class="p1"><font face="Courier" size="4" color="#007020" class="f4"><b>def</b></font><font face="Courier" size="4" color="#222222" class="f1"> </font><font face="Courier" size="4" color="#06287e" class="f7">resizeImage</font><font face="Courier" size="4" color="#222222" class="f1">(img):</font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1"><span class="Apple-converted-space">    </span>dst </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">resize(img,</font><font face="Courier" size="4" color="#007020" class="f4">None</font><font face="Courier" size="4" color="#222222" class="f1">, fx</font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#40a070" class="f9">0.25</font><font face="Courier" size="4" color="#222222" class="f1">, fy</font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#40a070" class="f9">0.25</font><font face="Courier" size="4" color="#222222" class="f1">, interpolation </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">INTER_LINEAR)</font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1"><span class="Apple-converted-space">    </span></font><font face="Courier" size="4" color="#007020" class="f4"><b>return</b></font><font face="Courier" size="4" color="#222222" class="f1"> dst</font></p>
<p class="p5"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">There is a more in-depth explanation of the resize function on the geometric image transformations help page in the openCV documentation.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#888888" class="f11"><a href="http://docs.opencv.org/modules/imgproc/doc/geometric_transformations.html">http://docs.opencv.org/modules/imgproc/doc/geometric_transformations.html<font class="f2"></font></a></font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">However the important things to note are:</font></p>
<ul class="ul1">
  <li class="li6"><font face="Arial" size="4" color="#222222" class="f12"></font><font face="Arial" size="4" color="#222222" class="f13">img is the image we want to resize.</font></li>
  <li class="li6"><font face="Arial" size="4" color="#222222" class="f12"></font><font face="Arial" size="4" color="#222222" class="f13">fx=0.25 and fy=0.25 are the factors that x and y are multiplied by. 0.25 makes the image 1/4 size.</font></li>
</ul>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">Next we take an image using the Raspberry Pi camera.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p1"><font face="Courier" size="4" color="#60a0b0" class="f6"><i>##Take image with Raspberry Pi camera</i></font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">os</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">system(</font><font face="Courier" size="4" color="#4070a0" class="f10">"raspistill -o image.jpg"</font><font face="Courier" size="4" color="#222222" class="f1">)</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">os.system allows us to input a command into the command line. We know from the camera documentation that "raspistill -o image.jpg" will take an image with the camera and store it as image.jpg.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">Now we load the image twice into our program. The first time as a colour image, the second as a grey-scale image.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p1"><font face="Courier" size="4" color="#60a0b0" class="f6"><i>##Load image</i></font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">img </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">imread(</font><font face="Courier" size="4" color="#4070a0" class="f10">"/home/pi/Desktop/image.jpg"</font><font face="Courier" size="4" color="#222222" class="f1">)<span class="Apple-converted-space"> </span></font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">grey </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">imread(</font><font face="Courier" size="4" color="#4070a0" class="f10">"/home/pi/Desktop/image.jpg"</font><font face="Courier" size="4" color="#222222" class="f1">,</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">) </font><font face="Courier" size="4" color="#60a0b0" class="f6"><i>#0 for grayscale</i></font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">We then use cv2.threshold to turn our image into black and white.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p1"><font face="Courier" size="4" color="#60a0b0" class="f6"><i>##Run Threshold on image to make it black and white</i></font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">ret, thresh </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">threshold(grey,</font><font face="Courier" size="4" color="#40a070" class="f9">50</font><font face="Courier" size="4" color="#222222" class="f1">,</font><font face="Courier" size="4" color="#40a070" class="f9">255</font><font face="Courier" size="4" color="#222222" class="f1">,cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">THRESH_BINARY)</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">There is more information about the threshold function on the transformations help page on the openCV documentation.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#888888" class="f11"><a href="http://docs.opencv.org/modules/imgproc/doc/miscellaneous_transformations.html">http://docs.opencv.org/modules/imgproc/doc/miscellaneous_transformations.html<font class="f2"></font></a></font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">The important parts of the code are:</font></p>
<ul class="ul1">
  <li class="li6"><font face="Arial" size="4" color="#222222" class="f12"></font><font face="Arial" size="4" color="#222222" class="f13">grey - the image we are converting.</font></li>
  <li class="li6"><font face="Arial" size="4" color="#222222" class="f12"></font><font face="Arial" size="4" color="#222222" class="f13">50 - is the threshold value. This is between 0 and 255. 0 is white and 255 is black. You may need to modify this value depending on your lighting conditions.</font></li>
  <li class="li6"><font face="Arial" size="4" color="#222222" class="f12"></font><font face="Arial" size="4" color="#222222" class="f13">255 - If a pixel is above the threshold value, in our case 50, we will make it 255 (black). Else is it 0 (white)</font></li>
</ul>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">On this black and white image we now run hough circles.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">This line in the code carries out the HoughCircle transform. This is the most important line in the code, and the one you are most likely to have to modify to suit your image.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p1"><font face="Courier" size="4" color="#60a0b0" class="f6"><i>##Use houghcircles to determine centre of circle</i></font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">circles </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">HoughCircles(thresh,cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">cv</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">CV_HOUGH_GRADIENT,</font><font face="Courier" size="4" color="#40a070" class="f9">1</font><font face="Courier" size="4" color="#222222" class="f1">,</font><font face="Courier" size="4" color="#40a070" class="f9">75</font><font face="Courier" size="4" color="#222222" class="f1">,param1</font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#40a070" class="f9">50</font><font face="Courier" size="4" color="#222222" class="f1">,param2</font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#40a070" class="f9">13</font><font face="Courier" size="4" color="#222222" class="f1">,minRadius</font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">,maxRadius</font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#40a070" class="f9">175</font><font face="Courier" size="4" color="#222222" class="f1">)</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<ul class="ul1">
  <li class="li6"><font face="Arial" size="4" color="#222222" class="f12"></font><font face="Arial" size="4" color="#222222" class="f13">thresh - refers to the fact we are carrying out the hough transform on the black and white image.</font></li>
  <li class="li6"><font face="Arial" size="4" color="#222222" class="f12"></font><font face="Arial" size="4" color="#222222" class="f13">75 - refers to the minimum distance allowed between circles. If you are getting too many circles close together you may want to increase this and vice versa.</font></li>
  <li class="li6"><font face="Arial" size="4" color="#222222" class="f12"></font><font face="Arial" size="4" color="#222222" class="f13">Param1 = 50. This is one of the parameters which determines where the circles are, you can play around with this figure if needs be.</font></li>
  <li class="li6"><font face="Arial" size="4" color="#222222" class="f12"></font><font face="Arial" size="4" color="#222222" class="f13">Param2 = 13. This is the more important of the parameters. If you are getting too many circles then increase this number, and vice versa. Small changes to this make large differences!</font></li>
  <li class="li6"><font face="Arial" size="4" color="#222222" class="f12"></font><font face="Arial" size="4" color="#222222" class="f13">minRadius - the smallest radius allowed for a circle.</font></li>
  <li class="li6"><font face="Arial" size="4" color="#222222" class="f12"></font><font face="Arial" size="4" color="#222222" class="f13">MaxRadius - the largest radius allowed for a circle.</font></li>
</ul>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">HoughCircle returns a x and y co-ordinate for each circle. It also returns a radius. We are storing these values in the variable called circles.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">Again there is more information available about HoughCircle on the function detection page of the openCV documentation under HoughCircles.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#888888" class="f11"><a href="http://docs.opencv.org/modules/imgproc/doc/feature_detection.htm">http://docs.opencv.org/modules/imgproc/doc/feature_detection.htm</a></font><font face="Arial" size="4" color="#222222" class="f3">l</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">We now go through each of these circles in order. For each of the circles we draw its circumference and its centre onto the coloured image we stored in the variable img.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p1"><font face="Courier" size="4" color="#007020" class="f4"><b>for</b></font><font face="Courier" size="4" color="#222222" class="f1"> i </font><font face="Courier" size="4" color="#007020" class="f4"><b>in</b></font><font face="Courier" size="4" color="#222222" class="f1"> circles[</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">,:]:</font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1"><span class="Apple-converted-space">    </span></font><font face="Courier" size="4" color="#60a0b0" class="f6"><i>#draw the outer circle</i></font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1"><span class="Apple-converted-space">    </span>cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">circle(img,(i[</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">],i[</font><font face="Courier" size="4" color="#40a070" class="f9">1</font><font face="Courier" size="4" color="#222222" class="f1">]),i[</font><font face="Courier" size="4" color="#40a070" class="f9">2</font><font face="Courier" size="4" color="#222222" class="f1">],(</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">,</font><font face="Courier" size="4" color="#40a070" class="f9">255</font><font face="Courier" size="4" color="#222222" class="f1">,</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">),</font><font face="Courier" size="4" color="#40a070" class="f9">2</font><font face="Courier" size="4" color="#222222" class="f1">)</font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1"><span class="Apple-converted-space">    </span></font><font face="Courier" size="4" color="#60a0b0" class="f6"><i>#draw the centre of the circle</i></font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1"><span class="Apple-converted-space">    </span>cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">circle(img,(i[</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">],i[</font><font face="Courier" size="4" color="#40a070" class="f9">1</font><font face="Courier" size="4" color="#222222" class="f1">]),</font><font face="Courier" size="4" color="#40a070" class="f9">2</font><font face="Courier" size="4" color="#222222" class="f1">,(</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">,</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">,</font><font face="Courier" size="4" color="#40a070" class="f9">255</font><font face="Courier" size="4" color="#222222" class="f1">),</font><font face="Courier" size="4" color="#40a070" class="f9">3</font><font face="Courier" size="4" color="#222222" class="f1">)</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">More information on the circle command is seen on the OpenCV docs page which covers drawing functions.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#888888" class="f11"><a href="http://docs.opencv.org/modules/core/doc/drawing_functions.html">http://docs.opencv.org/modules/core/doc/drawing_functions.html<font class="f2"></font></a></font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">Now as I stated at the start of this blog there was an actual reason for writing this program. I wanted to be able to log the x and y co-ordinates of the circles to see how they varied when putting in different items. I also wanted to work out the angle between the circles, and see how that varied.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">The next lines of code separate out the x and y co-ordinates. They also work out the angle between them using simple trigonometry.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p1"><font face="Courier" size="4" color="#60a0b0" class="f6"><i>##Determine co-ordinates for centre of circle</i></font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">x1 </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> circles[</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">][</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">][</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">]</font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">y1 </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> circles[</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">][</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">][</font><font face="Courier" size="4" color="#40a070" class="f9">1</font><font face="Courier" size="4" color="#222222" class="f1">]</font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">x2 </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> circles[</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">][</font><font face="Courier" size="4" color="#40a070" class="f9">1</font><font face="Courier" size="4" color="#222222" class="f1">][</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">]</font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">y2 </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> circles[</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">][</font><font face="Courier" size="4" color="#40a070" class="f9">1</font><font face="Courier" size="4" color="#222222" class="f1">][</font><font face="Courier" size="4" color="#40a070" class="f9">1</font><font face="Courier" size="4" color="#222222" class="f1">]</font></p>
<p class="p1"><font face="Courier" size="4" color="#60a0b0" class="f6"><i>##Angle betwen two circles</i></font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">theta </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> math</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">degrees(math</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">atan((y2</font><font face="Courier" size="4" color="#666666" class="f8">-</font><font face="Courier" size="4" color="#222222" class="f1">y1)</font><font face="Courier" size="4" color="#666666" class="f8">/</font><font face="Courier" size="4" color="#222222" class="f1">(x2</font><font face="Courier" size="4" color="#666666" class="f8">-</font><font face="Courier" size="4" color="#222222" class="f1">x1)))</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">Finally to display the images nicely on the Raspberry Pi I pass each image through the function to resize them...</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p1"><font face="Courier" size="4" color="#60a0b0" class="f6"><i>##Resize image</i></font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">img </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> resizeImage(img)</font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">thresh </font><font face="Courier" size="4" color="#666666" class="f8">=</font><font face="Courier" size="4" color="#222222" class="f1"> resizeImage(thresh)</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">...then I display the images.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p1"><font face="Courier" size="4" color="#60a0b0" class="f6"><i>##Show Images<span class="Apple-converted-space"> </span></i></font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">imshow(</font><font face="Courier" size="4" color="#4070a0" class="f10">"thresh"</font><font face="Courier" size="4" color="#222222" class="f1">,thresh)</font></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">imshow(</font><font face="Courier" size="4" color="#4070a0" class="f10">"img"</font><font face="Courier" size="4" color="#222222" class="f1">,img)</font></p>
<p class="p5"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">There is no need to display the images if you don't want to. However I think its good to see what the thresh image and the final image looks like. These are good to help any fault finding. </font></p>
<p class="p5"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">You also need the next line for the code to work.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p1"><font face="Courier" size="4" color="#222222" class="f1">cv2</font><font face="Courier" size="4" color="#666666" class="f8">.</font><font face="Courier" size="4" color="#222222" class="f1">waitKey(</font><font face="Courier" size="4" color="#40a070" class="f9">0</font><font face="Courier" size="4" color="#222222" class="f1">)</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">Here is a link to the code, so you can download it rather than type it.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#888888" class="f11"><a href="https://drive.google.com/file/d/0B87aGq7vEpoFZ21BTlE5MXpPcTA/edit?usp=sharing">HoughCircles.py<font class="f2"></font></a></font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">If you don't have a Raspberry Pi Camera there are a few images below which you can use to test your code on. Just change the code to comment out the line about taking the image with the camera, and change the name of the files you are opening to suit.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">The first one is taken using my Raspberry Pi camera.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#888888" class="f11"><a href="https://drive.google.com/file/d/0B87aGq7vEpoFZ3hDYjlub01rdEk/edit?usp=sharing">Hough_image1.jpg<font class="f2"></font></a></font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">The second is from my phone.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#888888" class="f11"><a href="https://drive.google.com/file/d/0B87aGq7vEpoFdDFQNGlxbWZUU1U/edit?usp=sharing">Hough_image2.jpg<font class="f2"></font></a></font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">If you have any problems with the code, try it on these two images first, as I know these work. I think most problems you will have will be to do with lighting. There was a fair amount of playing around with certain parameters, particularly param2 to get this to work.</font></p>
<p class="p2"><font class="f2"></font><br /></p>
<p class="p3"><font face="Arial" size="4" color="#222222" class="f3">Keep an eye on my blog, as there could well be some more openCV programs at some point!</font></p>
</body>
</html>
